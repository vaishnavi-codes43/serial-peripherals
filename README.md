I have written a simple verilog code for SPI to act as slave. this code is tested on harware using ILA with Sparten 7 FPGA as slave and STM32 as master.
I have tested it over 10MHZ clock frequency and upto 1000Kb data rate .and both MOSI and MISO lines are working properly.
